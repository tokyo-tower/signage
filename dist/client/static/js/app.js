webpackJsonp([1],{"+YdJ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW").a.extend({}),a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fadeup"}},[n("div",{class:["container","container-static",{"container-vertical":t.$route.meta.vertical,"container-sleep":-1!==t.$route.name.indexOf("sleep"),"container-suspend":-1!==t.$route.name.indexOf("suspend"),"container-closed":-1!==t.$route.name.indexOf("closed"),"container-todaytdt":-1!==t.$route.name.indexOf("todaytdt")}]},[t.$route.meta.noclock?t._e():t._m(0),t._v(" "),t._m(1)],1)])},staticRenderFns:[function(){var t=this.$createElement;return(this._self._c||t)("clock",{staticClass:"clock icon-clock"})},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h1",[n("shine-icon",{staticClass:"logo",attrs:{src:"/static/images/logo-tdt.svg"}})],1),t._v(" "),n("div",{staticClass:"suspendcontent message"},[n("h2",[t._v("現在、トップデッキツアーは"),n("br",{staticClass:"verticalcontent"}),t._v("休止しております")]),t._v(" "),n("h3",[t._v("The Top Deck Tour "),n("br",{staticClass:"verticalcontent"}),t._v("is currently suspended")])]),t._v(" "),n("div",{staticClass:"closedcontent message"},[n("h2",[t._v("本日のトップデッキツアー"),n("br",{staticClass:"verticalcontent"}),t._v("受付は終了いたしました")]),t._v(" "),n("h3",[t._v("The Top Deck Tour "),n("br",{staticClass:"verticalcontent"}),t._v("is closed for the day")])]),t._v(" "),n("div",{staticClass:"todaytdtcontent message"},[n("h2",[t._v("トップデッキツアー 本日のチケット")]),t._v(" "),n("h3",[t._v("The Top Deck Tour Tickets for today"),n("br"),t._v("Top Deck Tour 当天的门票")])])])}]};var i=n("VU/8")(r,a,!1,function(t){n("9zoL")},"data-v-73da0550",null);e.default=i.exports},"0+US":function(t,e){},"2v5A":function(t,e){},"4E7i":function(t,e,n){"use strict";var r={};n.d(r,"changeScale",function(){return f}),n.d(r,"sleep",function(){return d}),n.d(r,"checkVersion",function(){return m});var a={};n.d(a,"getCredentials",function(){return _});var i={};n.d(i,"getStatusClassNameByPerformance",function(){return k}),n.d(i,"fetchScheduleStatus",function(){return C}),n.d(i,"manipulateScheduleData",function(){return I}),n.d(i,"getNextTickUnixtime",function(){return E}),n.d(i,"performance2result",function(){return P}),n.d(i,"checkEnv",function(){return A});var s=n("mtWM"),o=n.n(s),c=n("PJh5"),u=n.n(c),l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}c((r=r.apply(t,e||[])).next())})},h=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};function f(){var t=1920,e=1080,n={width:window.innerWidth/t,height:window.innerHeight/e},r=n.width<n.height?n.width:n.height,a=document.body;a.style.transform="scale("+r+")",a.setAttribute("data-scale",String(r));var i=document.createElement("style");i.id="changeScale",i.innerHTML="\n    html { width: auto; height: 100%; }\n    body { transform-origin: 0 0; overflow: hidden; }\n    #app .loading-mask { right: 0; bottom: 0; width: 100%; height: 100%; }\n    ",document.body.appendChild(i)}function d(t){return new Promise(function(e){return setTimeout(e,t)})}function m(){var t,e=this;setInterval(function(){return l(e,void 0,void 0,function(){var e,n,r;return h(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e="/api/version",[4,o.a.get(e,{timeout:6e4})];case 1:return n=a.sent().data,void 0===t&&(t=n.version),t!==n.version&&location.reload(),[3,3];case 2:return r=a.sent(),console.error(r),[3,3];case 3:return[2]}})})},18e5)}var p,v=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}c((r=r.apply(t,e||[])).next())})},g=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},_=function(){return v(void 0,void 0,void 0,function(){var t,e,n,r,a,i,s,c;return g(this,function(l){switch(l.label){case 0:if(l.trys.push([0,9,,10]),void 0!==p&&void 0!==p.expiryDate&&(t=p.expiryDate,!(void 0!==t&&u()(t).add(-5,"minutes").unix()<=u()().unix())))return[2,p];e="/api/authorize/getToken",n=5,r=0,a=!0,l.label=1;case 1:if(!a)return[3,8];a=!1,l.label=2;case 2:return l.trys.push([2,4,,7]),[4,o.a.post(e)];case 3:return i=l.sent().data,p=i,[3,8];case 4:return void 0!==(s=l.sent()).status&&s.status>=500?(a=r<n,r++,[4,d(2e4)]):[3,6];case 5:return l.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2,p];case 9:throw c=l.sent(),console.log("[catched][getCredentials]",c),"string"==typeof c?new Error("Auth Error: ".concat(c)):c;case 10:return[2]}})})},y=n("Mk6O"),b=this&&this.__assign||function(){return(b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},w=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}c((r=r.apply(t,e||[])).next())})},x=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},S=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,a=0,i=e.length;a<i;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))},T=38;function k(t,e){if(e.unavailable)return"item-unavailable";var n="",r=t.format("YYYY-MM-DD");if(!e.is_avg&&(t.isBetween("".concat(r," ").concat(e.start_time,":00"),"".concat(r," ").concat(e.end_time,":59"))&&(n+="item-current"),t.isAfter("".concat(r," ").concat(e.end_time,":59"))))return"".concat(n," item-soldout");var a=parseInt(e.seat_status,10)||0;return"".concat(n,a<T&&a>0?" item-crowded":0===a?" item-soldout":" item-capable")}function C(t,e){return w(this,void 0,void 0,function(){var n,r,a,i,s,c,u,l,h,f,m,p,v,g,y;return x(this,function(w){switch(w.label){case 0:return w.trys.push([0,7,,8]),n=t.state.APPCONFIG,[4,_()];case 1:r=w.sent(),a=r.accessToken,i=n.SMART_THEATER_API_ENDPOINT,s=n.PROJECT_ID,c=Number(n.API_TIMEOUT),u="".concat(i,"/projects/").concat(s,"/performances"),l=100,h=1,f=!0,m=[],w.label=2;case 2:return f?[4,o.a.get(u,{params:b(b({},e),{page:h,limit:l}),headers:{Authorization:"Bearer "+a},timeout:c||5e4})]:[3,6];case 3:return p=w.sent().data.data,m=S(S([],m,!0),p,!0),h++,(f=p.length===l)?[4,d(1e3)]:[3,5];case 4:w.sent(),w.label=5;case 5:return[3,2];case 6:return t.commit("UPDATE_MOMENTOBJ"),v="",Array.isArray(m)?0===m.length?(v="(".concat(t.state.moment.format("HH:mm:ss"),")[スケジュールデータが見つかりませんでした]"),t.commit("SET_ERRORMSG",v),[2,[]]):(t.commit("CLEAR_ERRORMSG"),g=m.sort(function(t,e){var n="".concat(t.attributes.day).concat(t.attributes.start_time),r="".concat(e.attributes.day).concat(e.attributes.start_time);return n<r?-1:n>r?1:0}),[2,g.map(function(t){return P(t)})]):(v="(".concat(t.state.moment.format("HH:mm:ss"),") [取得データ異常]"),t.commit("SET_ERRORMSG",v),[2,[]]);case 7:return y=w.sent(),console.log(y),t.commit("UPDATE_MOMENTOBJ"),t.commit("SET_ERRORMSG","(".concat(t.state.moment.format("HH:mm:ss"),") [通信エラー][ステータス取得] ").concat(y.message)),[2,[]];case 8:return[2]}})})}function I(t){return Array.isArray(t)?t.map(function(t){var e=c(t.startDate),n=c(t.endDate);return{id:t.id,day:e.format("YYYYMMDD"),hour:e.format("HH"),start_time:e.format("HH:mm"),end_time:n.format("HH:mm"),startDate:t.startDate,endDate:t.endDate,seat_status:t.remainingAttendeeCapacity,tour_number:t.tourNumber,unavailable:"Normal"!==t.evServiceStatus||"Normal"!==t.onlineSalesStatus}}):[]}function E(){var t=c();return c(t.format("YYYYMMDD HHmm"),"YYYYMMDD HHmm").add(1,"minutes").diff(t,"milliseconds")}function P(t){return{id:t.id,startDate:c("".concat(t.attributes.day).concat(t.attributes.start_time),"YYYYMMDDHHmm").toDate(),endDate:c("".concat(t.attributes.day).concat(t.attributes.end_time),"YYYYMMDDHHmm").toDate(),eventStatus:t.attributes.online_sales_status,remainingAttendeeCapacity:Number(t.attributes.seat_status),tourNumber:t.attributes.tour_number,evServiceStatus:t.attributes.online_sales_status,onlineSalesStatus:t.attributes.online_sales_status}}var A=function(t){return w(void 0,void 0,void 0,function(){var e,n,r,a,i,s;return x(this,function(c){switch(c.label){case 0:e=5,n=0,r=!0,c.label=1;case 1:if(!r)return[3,10];r=!1,c.label=2;case 2:return c.trys.push([2,6,,9]),[4,w(void 0,void 0,void 0,function(){var t;return x(this,function(e){switch(e.label){case 0:return[4,o.a.get("/env?".concat(Date.now()))];case 1:if("object"!=typeof(t=e.sent().data))throw new Error("/env invalid respoponse");return[2,t]}})})];case 3:return a=c.sent(),Object(y.diff)(t.state.APPCONFIG,a)?(console.log("環境変数の変更を検知 (20秒後リロード)"),[4,d(2e4)]):[3,5];case 4:return c.sent(),[2,window.location.reload()];case 5:return[3,9];case 6:return i=c.sent(),s=i,n<e?(r=!0,n++,[4,d(5e3)]):[3,8];case 7:return c.sent(),[3,1];case 8:return console.log("[".concat((new Date).toLocaleString(),"] 環境変数の確認に失敗 ").concat(s.message)),[3,9];case 9:return[3,1];case 10:return[2]}})})};n.d(e,!1,function(){return a}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},"75l9":function(t,e){t.exports={_args:[["axios@0.21.4","C:\\Users\\Suzus\\Documents\\MotionPicture\\tokyotower_signage"]],_from:"axios@0.21.4",_id:"axios@0.21.4",_inBundle:!1,_integrity:"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==",_location:"/axios",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"axios@0.21.4",name:"axios",escapedName:"axios",rawSpec:"0.21.4",saveSpec:null,fetchSpec:"0.21.4"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz",_spec:"0.21.4",_where:"C:\\Users\\Suzus\\Documents\\MotionPicture\\tokyotower_signage",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.14.0"},description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},homepage:"https://axios-http.com",jsdelivr:"dist/axios.min.js",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",fix:"eslint --fix lib/**/*.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",unpkg:"dist/axios.min.js",version:"0.21.4"}},"7d9W":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mtWM"),a=n.n(r),i=n("fGqP"),s=n.n(i),o=n("7+uW"),c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}c((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},l=o.a.extend({props:{targetEvent:{type:String,required:!1,default:""},intervalMsIfNoEvent:{type:Number,required:!1,default:15e3}},data:function(){return{apng:null,ctx:null,ctxplayer:null,timeout_resize:null,timeout_play:null}},methods:{resizeCanvas:function(){var t=this;return null!==this.apng&&null!==this.ctx&&(null!==this.timeout_resize&&clearTimeout(this.timeout_resize),this.timeout_resize=setTimeout(function(){var e=t.$refs.image,n=window.getComputedStyle(e,null),r={width:parseInt(n.width.replace("px",""),10),height:parseInt(n.height.replace("px",""),10)},a=t.$refs.canvas;a.setAttribute("width",String(r.width)),a.setAttribute("height",String(r.height)),t.ctx.scale(r.width/t.apng.width,r.height/t.apng.height),t.playAPNG()},200),!1)},loadAPNG:function(){var t=this;return new Promise(function(e,n){return c(t,void 0,void 0,function(){var t,r,i,o;return u(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,a.a.get("/static/images/logo_animated.png",{responseType:"arraybuffer"})];case 1:if(t=c.sent(),this.apng=s()(t.data),r=this.$refs.canvas,this.ctx=r.getContext("2d"),null===this.ctx)throw new Error("ctx === null");return i=this,[4,this.apng.getPlayer(this.ctx)];case 2:return i.ctxplayer=c.sent(),this.resizeCanvas(),[2,e()];case 3:return o=c.sent(),console.log(o),[2,n()];case 4:return[2]}})})})},playAPNG:function(){null!==this.ctxplayer&&(this.ctxplayer.stop(),this.ctxplayer.play())},abandon:function(){this.$refs.image.style.opacity=1,this.$refs.canvas.outerHTML=""},init:function(){var t=this;return this.$route.query.noshine?this.abandon():this.loadAPNG().then(function(){t.targetEvent&&t.$parent?t.$parent.$on(t.targetEvent,t.playAPNG):(t.ctxplayer.on("end",function(){null!==t.timeout_play&&clearTimeout(t.timeout_play),t.timeout_play=setTimeout(t.playAPNG,t.intervalMsIfNoEvent)}),t.playAPNG())}).catch(function(){t.abandon()})}},mounted:function(){window.addEventListener("resize",this.resizeCanvas,!1)},beforeDestroy:function(){window.removeEventListener("resize",this.resizeCanvas),null!==this.timeout_resize&&clearTimeout(this.timeout_resize),null!==this.timeout_play&&clearTimeout(this.timeout_play),this.$parent&&this.$parent.$off(this.targetEvent,this.playAPNG)}}),h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"shineicon"},[n("img",{ref:"image",attrs:{src:"/static/images/logo-tdt.svg"},on:{"~load":function(e){return t.init.apply(null,arguments)}}}),t._v(" "),n("canvas",{ref:"canvas"})])}]};var f=n("VU/8")(l,h,!1,function(t){n("SG/z")},null,null);e.default=f.exports},"8ftZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("PJh5"),a=n.n(r),i=n("7+uW"),s=n("4E7i"),o=i.a.extend({data:function(){return{moment_now:a()(),timeoutInstance_updateMoment:null}},computed:{HH:function(){return this.$data.moment_now.format("HH")},mm:function(){return this.$data.moment_now.format("mm")}},methods:{getNextTickUnixtime:s.a.getNextTickUnixtime,setTimeoutUpdateMoment:function(){var t=this;null!==this.timeoutInstance_updateMoment&&clearTimeout(this.timeoutInstance_updateMoment),this.timeoutInstance_updateMoment=setTimeout(function(){t.moment_now=a()(),t.setTimeoutUpdateMoment()},this.getNextTickUnixtime())}},created:function(){this.setTimeoutUpdateMoment()},beforeDestroy:function(){null!==this.timeoutInstance_updateMoment&&clearTimeout(this.timeoutInstance_updateMoment)}}),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"clock"},[e("span",[this._v(this._s(this.HH)),e("span",{staticClass:"colon"},[this._v(":")]),this._v(this._s(this.mm))])])},staticRenderFns:[]};var u=n("VU/8")(o,c,!1,function(t){n("TWo1")},null,null);e.default=u.exports},"9zoL":function(t,e){},"Cx+x":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mtWM"),a=n.n(r),i=n("Mk6O"),s=n("7+uW"),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}c((r=r.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},u=s.a.extend({components:{Loading:n("hILp").default},methods:{fetchEnv:function(){return o(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return[4,a.a.get("/api/config?".concat(Date.now()))];case 1:if("object"!=typeof(t=e.sent().data))throw new Error("/env invalid respoponse");return[2,t]}})})},checkEnv:function(){return o(this,void 0,void 0,function(){var t,e,n,r=this;return c(this,function(a){switch(a.label){case 0:console.log("checkEnv()"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,this.fetchEnv()];case 2:return t=a.sent(),Object(i.diff)(this.$store.state.APPCONFIG,t)?(console.log("latestEnv",this.$store.state.APPCONFIG,t),console.log("環境変数の変更を検知 (20秒後リロード)"),[4,new Promise(function(t){return setTimeout(t,2e4)})]):[3,4];case 3:a.sent(),window.location.reload(),a.label=4;case 4:return[3,6];case 5:return e=a.sent(),n=e,console.log("[".concat((new Date).toLocaleString(),"] 環境変数の確認に失敗 ").concat(n.message)),[3,6];case 6:return setTimeout(function(){r.checkEnv()},3e5),[2]}})})}},computed:{verticalClassName:function(){return this.$route.meta.vertical?this.$route.query.rightTop?"vertical-rightTop":"vertical":""}},mounted:function(){var t=this;setTimeout(function(){t.checkEnv()},3e5)},beforeDestroy:function(){this.$store.commit("CLEAR_LOADINGMSG")}}),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:[this.verticalClassName],attrs:{id:"app"}},[this.$store.state.loadingMsg?e("loading"):this._e(),this._v(" "),e("transition",{attrs:{name:"fadeup"}},[e("router-view")],1)],1)},staticRenderFns:[]};var h=n("VU/8")(u,l,!1,function(t){n("yLbV")},null,null);e.default=h.exports},H4kj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("MU8w"),n("JUaF");var r=n("7+uW"),a=n("NYxO"),i=n("mtWM"),s=n.n(i),o=n("PJh5"),c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}c((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};r.a.use(a.a);var l=new a.a.Store({strict:!1,modules:{},state:{moment:o(),errorMsgStr:"",loadingMsg:"",scheduleStatus:[]},mutations:{SET_APPCONFIG:function(t,e){t.APPCONFIG=e},SET_ERRORMSG:function(t,e){t.errorMsgStr=e},CLEAR_ERRORMSG:function(t){t.errorMsgStr=""},SET_LOADINGMSG:function(t,e){t.loadingMsg=e},CLEAR_LOADINGMSG:function(t){t.loadingMsg=""},SET_SCHEDULESTATUS:function(t,e){t.scheduleStatus=e},UPDATE_MOMENTOBJ:function(t){t.moment=o()}},actions:{FETCH_APPCONFIG:function(t){var e=this,n=t.commit;return new Promise(function(t,r){return c(e,void 0,void 0,function(){var e;return u(this,function(a){return e="/api/config",s.a.get(e).then(function(e){return"object"!=typeof e.data?r():(void 0===e.data.API_TIMEOUT&&(e.data.API_TIMEOUT="30000"),n("SET_APPCONFIG",e.data),t(e.data))}).catch(function(t){return console.error(t),r()}),[2]})})})},QUIT:function(){var t=this;return new Promise(function(e){return c(t,void 0,void 0,function(){return u(this,function(t){return window.location.href=window.location.href.split("#")[0],e(),[2]})})})}}}),h=n("/ocq");r.a.use(h.a);var f=new h.a({routes:[{name:"home",path:"/",component:n("yPrU").default,meta:{title:"東京タワー サイネージ画面一覧"}},{name:"todaytdt",path:"/todaytdt",component:n("+YdJ").default,meta:{group:"1fticket",title:"東京タワー 「トップデッキツアー 本日のチケット」",noclock:!0}},{name:"info",path:"/info",component:n("Y2G7").default,meta:{group:"1fticket",title:"東京タワー トップデッキツアー チケット空き状況"}},{name:"guide_lane",path:"/guide/lane",component:n("jwB1").default,meta:{group:"lane",title:"東京タワー 入場案内 トップデッキレーン",vertical:!0}},{name:"guide_gate",path:"/guide/gate",component:n("zPSQ").default,meta:{group:"gate",title:"東京タワー 入場案内 トップデッキゲート"}},{name:"suspend",path:"/suspend",component:n("+YdJ").default,meta:{group:"suspend",title:"東京タワー トップデッキツアー休止中"}},{name:"suspend.vertical",path:"/vertical/suspend",component:n("+YdJ").default,meta:{group:"suspend",title:"東京タワー トップデッキツアー休止中 (縦)",vertical:!0}},{name:"suspend.vertical",path:"/vertical/suspend?rightTop=true",component:n("+YdJ").default,meta:{group:"suspend",title:"東京タワー トップデッキツアー休止中 (縦-右回転)",vertical:!0}},{name:"closed",path:"/closed",component:n("+YdJ").default,meta:{group:"closed",title:"東京タワー トップデッキツアー受付終了"}},{name:"closed.vertical",path:"/vertical/closed",component:n("+YdJ").default,meta:{group:"closed",title:"東京タワー トップデッキツアー受付終了 (縦)",vertical:!0}},{name:"closed.vertical",path:"/vertical/closed?rightTop=true",component:n("+YdJ").default,meta:{group:"closed",title:"東京タワー トップデッキツアー受付終了 (縦-右回転)",vertical:!0}},{name:"sleep",path:"/sleep",component:n("+YdJ").default,meta:{group:"sleep",title:"東京タワー 営業時間外"}},{name:"sleep.vertical",path:"/vertical/sleep",component:n("+YdJ").default,meta:{group:"sleep",title:"東京タワー 営業時間外 (縦)",vertical:!0}},{name:"sleep.vertical",path:"/vertical/sleep?rightTop=true",component:n("+YdJ").default,meta:{group:"sleep",title:"東京タワー 営業時間外 (縦-右回転)",vertical:!0}}]});f.beforeEach(function(t,e,n){return window.document.title=t.meta.title,n()}),f.afterEach(function(){l.commit("CLEAR_LOADINGMSG")});var d=f,m=n("4E7i");r.a.component("ErrorOneline",n("wQMa").default),r.a.component("Clock",n("8ftZ").default),r.a.component("ShineIcon",n("7d9W").default),l.dispatch("FETCH_APPCONFIG").then(function(t){console.log("APPCONFIG",t),new r.a({el:"#VueApp",router:d,store:l,render:function(t){return t(n("Cx+x").default)},created:function(){"auto"===t.CHANGE_SCALE&&(m.b.changeScale(),window.addEventListener("resize",m.b.changeScale,!1))}})}).catch(function(){return alert("CONFIG LOAD ERROR")}),m.b.checkVersion()},"SG/z":function(t,e){},TWo1:function(t,e){},Tcsz:function(t,e){},Y2G7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("PJh5"),a=n("4E7i"),i=n("7+uW"),s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},c=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,a=0,i=e.length;a<i;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))};n("ORgI"),r.locale("ja");var u=i.a.extend({data:function(){return{langArray:["ja","en","zh-hans"],currentLangIndex:0,locale:{tdt:{ja:"トップデッキツアー",en:"Top Deck Tour","zh-hans":"Top Deck Tour"},tourNumber:{ja:"ツアーNo",en:"Tour No.","zh-hans":"游览编号"},entranceTime:{ja:"入場受付時間",en:"Entrance Time","zh-hans":"入场受理时间"},availability:{ja:"空き状況",en:"Availability","zh-hans":"可预约情况"}},ticketinfoArray:[{ticket_id:"001",price:3e3,ja:{name:"大人",cap:""},en:{name:"Adult",cap:"(over 18 years)"},"zh-hans":{name:"大人",cap:"(19岁以上)"}},{ticket_id:"002",price:2800,ja:{name:"高校生",cap:""},en:{name:"High School",cap:"(16-18 years)"},"zh-hans":{name:"高中生",cap:"(16～18岁)"}},{ticket_id:"003",price:2e3,ja:{name:"子供",cap:"(小・中学生)"},en:{name:"Junior",cap:"(7-15 years)"},"zh-hans":{name:"儿童",cap:"(7～15岁)"}},{ticket_id:"004",price:1400,ja:{name:"幼児",cap:"(4歳以上)"},en:{name:"Child",cap:"(4-6 years)"},"zh-hans":{name:"幼儿",cap:"(4～6岁)"}}],nearStatusArray:[],futureAvgStatusArray:[],timeoutInstance_changeLang:null,timeoutInstance_IntervalFetch:null}},computed:{currentLang:function(){return this.$data.langArray[this.$data.currentLangIndex]}},methods:{fetchScheduleStatus:a.a.fetchScheduleStatus,getNextTickUnixtime:a.a.getNextTickUnixtime,getStatusClassNameByPerformance:a.a.getStatusClassNameByPerformance,manipulateScheduleData:a.a.manipulateScheduleData,echoPrice:function(t){return"￥".concat(t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))},updateStatus:function(){var t=this;return new Promise(function(e,n){return s(t,void 0,void 0,function(){var t,a,i,s,u,l,h;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.fetchScheduleStatus(this.$store,{day:r().minute(0).second(0).milliseconds(0).format("YYYYMMDD")})];case 1:return t=o.sent(),a=r().hour(),i=[],s=[],u={},this.manipulateScheduleData(t).forEach(function(t){try{if(r().isAfter(r(t.endDate)))return!0;-1===s.indexOf(t.hour)&&(s.push(t.hour),u[t.hour]=[]),u[t.hour].push(t),i.length<4&&i.push(t)}catch(t){return console.log(t),!0}return!0}),this.nearStatusArray=i,l=c([],Array(4),!0).map(function(t,e){return e+1+a}),this.futureAvgStatusArray=l.filter(function(t){return"object"==typeof u[t]}).map(function(t){var e=!0,n=Math.floor(u[t].reduce(function(t,n){if(!n.unavailable){e=!1;var r=n.seat_status;return isNaN(r)&&(r=0),t+r}return t},0)/u[t].length);return{hours:"".concat(t,":00～").concat("0".concat(t+1).slice(1),":00"),seat_status:n,unavailable:e,is_avg:!0}}),[3,3];case 2:return h=o.sent(),[2,n(h)];case 3:return[2,e()]}})})})},setFetchStatusDataTimeout:function(){var t=this;null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),this.timeoutInstance_IntervalFetch=setTimeout(function(){return s(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.updateStatus()];case 1:return t.sent(),this.setFetchStatusDataTimeout(),[2]}})})},this.getNextTickUnixtime())},setChangeLangTimeout:function(t){var e=this;null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang),this.timeoutInstance_changeLang=setTimeout(function(){e.$emit("langChanged"),e.currentLangIndex++,e.currentLangIndex>e.langArray.length-1?(e.currentLangIndex=0,e.setChangeLangTimeout(6e3)):e.setChangeLangTimeout()},t||3e3)}},created:function(){var t=this;this.$store.commit("SET_LOADINGMSG","最新の情報を取得中..."),this.updateStatus().then(function(){t.$store.commit("CLEAR_LOADINGMSG"),t.setFetchStatusDataTimeout(),t.setChangeLangTimeout(6e3)})},beforeDestroy:function(){null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang)}}),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["container","container-ticketstatus","lang-"+t.currentLang,{onerror:t.$store.state.errorMsgStr}]},[t.$store.state.errorMsgStr?n("errorOneline",{attrs:{errorMsgStr:"通信エラーが発生しています "+t.$store.state.errorMsgStr}}):t._e(),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"area area-schedule"},[t._m(1),t._v(" "),n("table",{staticClass:"table-main"},[t._m(2),t._v(" "),n("tbody",t._l(t.nearStatusArray,function(e){return n("tr",{key:e.id,class:["item",t.getStatusClassNameByPerformance(t.$store.state.moment,e,10)]},[n("td",[t._v(t._s(e.tour_number))]),t._v(" "),n("td",{staticClass:"time"},[t._v("\n            "+t._s(e.start_time)+" ～ "+t._s(e.end_time)+"\n          ")]),t._v(" "),n("td",{staticClass:"wrapper-status"},[n("span",{staticClass:"status"},[t._v(t._s(e.seat_status))])])])}),0),t._v(" "),n("tfoot",[n("tr",[n("td",{attrs:{colspan:"3"}},t._l(t.futureAvgStatusArray,function(e,r){return n("div",{key:r,class:["houritem",t.getStatusClassNameByPerformance(t.$store.state.moment,e)]},[n("p",{staticClass:"hours"},[t._v(t._s(e.hours))]),t._v(" "),n("div",{staticClass:"wrapper-status"},[n("p",{staticClass:"status"},[t._v(t._s(e.seat_status))])])])}),0)])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"area area-info"},[n("div",{staticClass:"mainvisual"},[n("p",[n("shine-icon",{attrs:{targetEvent:"langChanged"}})],1)]),t._v(" "),n("div",{staticClass:"prices"},t._l(t.ticketinfoArray,function(e){return n("section",{key:e.ticket_id},[n("div",[n("h2",[t._l(t.langArray,function(r){return n("span",{key:"ticketname_"+r,class:"langcontent langcontent-"+r},[t._v(t._s(e[r].name))])}),t._v(" "),n("span",{staticClass:"cap"},t._l(t.langArray,function(r){return n("span",{key:"ticketcap_"+r,class:"langcontent langcontent-"+r},[t._v(t._s(e[r].cap))])}),0)],2),t._v(" "),n("p",[t._v(t._s(t.echoPrice(e.price)))])])])}),0)])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("span",{staticClass:"tdt"},t._l(t.langArray,function(e){return n("span",{key:"tdt_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.tdt[e]))])}),0),t._v(" "),n("span",{staticClass:"separator"}),t._v(" "),n("clock",{staticClass:"iconBefore icon-clock"})],1)},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",t._l(t.langArray,function(e){return n("span",{key:"tourNumber_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.tourNumber[e]))])}),0),t._v(" "),n("th",{staticClass:"time"},t._l(t.langArray,function(e){return n("span",{key:"entranceTime_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.entranceTime[e]))])}),0),t._v(" "),n("th",t._l(t.langArray,function(e){return n("span",{key:"availability_"+e,class:"langcontent langcontent-"+e},[t._v(t._s(t.locale.availability[e]))])}),0)])])}]};var h=n("VU/8")(u,l,!1,function(t){n("w5ZX")},null,null);e.default=h.exports},hILp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW").a.extend({}),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"loading"}},[e("div",{class:["loading-mask",{"loading-mask-vertical":this.$route.meta.vertical}]},[e("div",{staticClass:"loading-wrapper"},[e("div",{staticClass:"loading-container"},[e("div",{staticClass:"loading-header"},[e("h3",[this._v(this._s(this.$store.state.loadingMsg))])]),this._v(" "),this._m(0)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-body"},[e("div",{staticClass:"v-spinner"},[e("div",{staticClass:"v-ring v-ring1"},[e("div",{staticClass:"v-ring v-ring2"}),this._v(" "),e("div",{staticClass:"v-ring v-ring3"})])])])}]};var i=n("VU/8")(r,a,!1,function(t){n("0+US")},"data-v-1115582d",null);e.default=i.exports},jwB1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("PJh5"),a=n("4E7i"),i=n("7+uW"),s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};n("ORgI"),r.locale("ja");var c=i.a.extend({data:function(){return{langArray:["ja","en"],currentLangIndex:0,locale:{tourNumber:{ja:"ツアーNo",en:"Tour No."},entranceTime:{ja:"入場受付時間",en:"Entrance Time"},PleasePrepare:{ja:"入場用QRコードを準備してお待ち下さい",en:"Please prepare to show your QR code for entrance."},howtoGetQr:{ja:"入場用QRコード入手方法",en:"How to get your QR code for entrance"},scanBelowQr:{ja:"以下のQRコードから<br>チケット紹介ページへ",en:"Go to the Check Ticket page by scanning the below QR code."},enterNumbers:{ja:"チケット購入番号と購入時の電話番号を入力して照会",en:"Enter the purchase number and the telephone number."}},currentPerformance:{},timeoutInstance_IntervalFetch:null,timeoutInstance_changeLang:null}},computed:{currentLang:function(){return this.$data.langArray[this.$data.currentLangIndex]}},methods:{fetchScheduleStatus:a.a.fetchScheduleStatus,getNextTickUnixtime:a.a.getNextTickUnixtime,manipulateScheduleData:a.a.manipulateScheduleData,getCurrentPerformance:function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n;return o(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.fetchScheduleStatus(this.$store,{day:r().minute(0).second(0).milliseconds(0).format("YYYYMMDD")})];case 1:return t=a.sent(),this.currentPerformance=this.manipulateScheduleData(t).filter(function(t){return r().isBetween(r(t.startDate),r(t.endDate))})[0],[3,3];case 2:return n=a.sent(),console.log(n),[3,3];case 3:return[2,e()]}})})})},setFetchStatusDataInterval:function(){var t=this;null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),this.timeoutInstance_IntervalFetch=setTimeout(function(){t.getCurrentPerformance().then(function(){t.setFetchStatusDataInterval()})},this.getNextTickUnixtime())},setChangeLangTimeout:function(t){var e=this;null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang),this.timeoutInstance_changeLang=setTimeout(function(){e.currentLangIndex++,e.currentLangIndex>e.langArray.length-1?(e.currentLangIndex=0,e.setChangeLangTimeout(1e4)):e.setChangeLangTimeout(),e.$emit("langChanged")},t||5e3)}},created:function(){var t=this;this.$store.commit("SET_LOADINGMSG","読み込み中"),this.getCurrentPerformance().then(function(){t.$store.commit("CLEAR_LOADINGMSG"),t.setFetchStatusDataInterval(),t.setChangeLangTimeout(1e4)})},beforeDestroy:function(){null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang)}}),u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fadeup"}},[n("div",{class:["container","container-checkintime","lang-"+t.currentLang,{onerror:t.$store.state.errorMsgStr}]},[t.$store.state.errorMsgStr?n("errorOneline",{attrs:{errorMsgStr:"データ取得エラーが発生しています "+t.$store.state.errorMsgStr}}):t._e(),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"tournumber"},[n("h2",[t._v(t._s(t.locale.tourNumber[t.currentLang]))]),t._v(" "),t.currentPerformance&&t.currentPerformance.tour_number?n("h3",[t._v("\n        "+t._s(t.currentPerformance.tour_number)+"\n      ")]):t._e()]),t._v(" "),t.currentPerformance&&t.currentPerformance.start_time?n("div",{staticClass:"time"},[n("h2",[t._v(t._s(t.locale.entranceTime[t.currentLang]))]),t._v(" "),n("h3",[t._v("\n        "+t._s(t.currentPerformance.start_time)+" ～\n        "+t._s(t.currentPerformance.end_time)+"\n      ")]),t._v(" "),n("p",[t._v(t._s(t.locale.PleasePrepare[t.currentLang]))])]):t._e(),t._v(" "),n("footer",[n("div",{staticClass:"qrguide"},[n("h2",[t._v(t._s(t.locale.howtoGetQr[t.currentLang]))]),t._v(" "),n("div",{staticClass:"qrguidesteps"},[n("div",[n("h3",[t._v("1.")]),t._v(" "),n("p",{domProps:{innerHTML:t._s(t.locale.scanBelowQr[t.currentLang])}}),t._v(" "),t._m(1)]),t._v(" "),n("div",[n("h3",[t._v("2.")]),t._v(" "),n("p",[t._v(t._s(t.locale.enterNumbers[t.currentLang]))]),t._v(" "),t._m(2)])])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("div",{staticClass:"inner"},[e("div",{staticClass:"iconwrapper"},[e("shine-icon",{staticClass:"logo",attrs:{targetEvent:"langChanged"}})],1),this._v(" "),e("div",{staticClass:"clockwrapper"},[e("clock",{staticClass:"icon-clock"})],1)])])},function(){var t=this.$createElement,e=this._self._c||t;return e("figure",{staticClass:"qrimage"},[e("img",{staticClass:"langcontent langcontent-ja",attrs:{src:"/static/images/qr-inquiry-ja.svg",alt:"https://reference.tokyotower.co.jp/inquiry/search"}}),this._v(" "),e("img",{staticClass:"langcontent langcontent-en",attrs:{src:"/static/images/qr-inquiry-en.svg",alt:"https://reference.tokyotower.co.jp/inquiry/search?locale=en"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("figure",{staticClass:"formimage"},[e("img",{staticClass:"langcontent langcontent-ja",attrs:{src:"/static/images/figure-inquiryform-ja.png"}}),this._v(" "),e("img",{staticClass:"langcontent langcontent-en",attrs:{src:"/static/images/figure-inquiryform-en.png"}})])}]};var l=n("VU/8")(c,u,!1,function(t){n("2v5A")},"data-v-37ba99b0",null);e.default=l.exports},olUR:function(t,e){},qmRU:function(t,e){},w5ZX:function(t,e){},wQMa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW").a.extend({props:{errorMsgStr:{type:String,required:!0}}}),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error-oneline"},[e("div",[e("p",[this._v(this._s(this.errorMsgStr))])])])},staticRenderFns:[]};var i=n("VU/8")(r,a,!1,function(t){n("qmRU")},null,null);e.default=i.exports},yLbV:function(t,e){},yPrU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW").a.extend({computed:{pagesByGroup:function(){var t={};return this.$router.options.routes.forEach(function(e){return!e.meta.group||(t[e.meta.group]=t[e.meta.group]||[],t[e.meta.group].push({title:e.meta.title.replace("東京タワー ",""),path:e.path}))}),t}}}),a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"menu"},t._l(t.pagesByGroup,function(e,r){return n("ul",{key:r},t._l(e,function(e){return n("li",{key:e.path},[n("router-link",{attrs:{to:e.path}},[n("span",[t._v(t._s(e.title))])])],1)}),0)}),0)])}]};var i=n("VU/8")(r,a,!1,function(t){n("olUR")},"data-v-90a875be",null);e.default=i.exports},zPSQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("PJh5"),a=n("4E7i"),i=n("7+uW"),s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function o(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};n("ORgI"),r.locale("ja");var c=i.a.extend({data:function(){return{langArray:["ja","en"],currentLangIndex:0,locale:{tourNumber:{ja:"ツアーNo",en:"Tour No."},entranceTime:{ja:"入場受付時間",en:"Entrance Time"},pleasePrepare:{ja:"入場用QRコードを準備してお待ち下さい",en:"Please prepare to show your QR code for entrance."},entranceTimeInfomation:{ja:"%time%までのチケットをお持ちのお客様を順次ご案内しております。",en:"This line is for the tickets before %time%."}},currentPerformanceArray:[],timeoutInstance_IntervalFetch:null,timeoutInstance_changeLang:null}},computed:{currentLang:function(){return this.$data.langArray[this.$data.currentLangIndex]}},methods:{fetchScheduleStatus:a.a.fetchScheduleStatus,getNextTickUnixtime:a.a.getNextTickUnixtime,manipulateScheduleData:a.a.manipulateScheduleData,getCurrentPerformance:function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n;return o(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.fetchScheduleStatus(this.$store,{day:r().minute(0).second(0).milliseconds(0).format("YYYYMMDD")})];case 1:return t=a.sent(),this.currentPerformanceArray=this.manipulateScheduleData(t).filter(function(t){return r().isBetween(r(t.startDate),r(t.endDate))}),[3,3];case 2:return n=a.sent(),console.log(n),[3,3];case 3:return[2,e()]}})})})},setFetchStatusDataInterval:function(){var t=this;null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),this.timeoutInstance_IntervalFetch=setTimeout(function(){t.getCurrentPerformance().then(function(){t.setFetchStatusDataInterval()})},this.getNextTickUnixtime())},setChangeLangTimeout:function(t){var e=this;null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang),this.timeoutInstance_changeLang=setTimeout(function(){e.currentLangIndex++,e.currentLangIndex>e.langArray.length-1?(e.currentLangIndex=0,e.setChangeLangTimeout(1e4)):e.setChangeLangTimeout(),e.$emit("langChanged")},t||5e3)}},created:function(){var t=this;this.$store.commit("SET_LOADINGMSG","読み込み中"),this.getCurrentPerformance().then(function(){t.$store.commit("CLEAR_LOADINGMSG"),t.setFetchStatusDataInterval(),t.setChangeLangTimeout(1e4)})},beforeDestroy:function(){null!==this.timeoutInstance_IntervalFetch&&clearTimeout(this.timeoutInstance_IntervalFetch),null!==this.timeoutInstance_changeLang&&clearTimeout(this.timeoutInstance_changeLang)}}),u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fadeup"}},[n("div",{class:["container","container-checkintime","lang-"+t.currentLang,{onerror:t.$store.state.errorMsgStr}]},[t.$store.state.errorMsgStr?n("errorOneline",{attrs:{errorMsgStr:"データ取得エラーが発生しています "+t.$store.state.errorMsgStr}}):t._e(),t._v(" "),t._m(0),t._v(" "),n("table",{staticClass:"table-tours"},[n("thead",[n("tr",[n("th",[t._v(t._s(t.locale.tourNumber[t.currentLang]))]),t._v(" "),n("th",[t._v(t._s(t.locale.entranceTime[t.currentLang]))])])]),t._v(" "),n("tbody",[t.currentPerformanceArray.length?t._e():n("tr",[n("td"),t._v(" "),n("td")]),t._v(" "),t._l(t.currentPerformanceArray,function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.tour_number))]),t._v(" "),n("td",[t._v("\n            "+t._s(e.start_time)+" ～\n            "+t._s(e.end_time)+"\n          ")])])})],2),t._v(" "),n("tfoot",[t._l(t.currentPerformanceArray,function(e,r){return r===t.currentPerformanceArray.length-1?n("tr",{key:r},[n("td",{attrs:{colspan:"2"}},[t._v(t._s(t.locale.entranceTimeInfomation[t.currentLang].replace("%time%",e.end_time)))])]):t._e()}),t._v(" "),n("tr",[n("td",{attrs:{colspan:"2"}},[t._v(t._s(t.locale.pleasePrepare[t.currentLang]))])])],2)])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("div",{staticClass:"inner"},[e("div",{staticClass:"iconwrapper"},[e("shine-icon",{staticClass:"logo",attrs:{targetEvent:"langChanged"}})],1),this._v(" "),e("div",{staticClass:"clockwrapper"},[e("clock",{staticClass:"icon-clock"})],1)])])}]};var l=n("VU/8")(c,u,!1,function(t){n("Tcsz")},"data-v-21fc1696",null);e.default=l.exports}},["H4kj"]);